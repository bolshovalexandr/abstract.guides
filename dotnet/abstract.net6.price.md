# Старые заметки из видеокурсов по .NET и ASP.NETCore

## ASP.Net Core - Структура проекта, окружение, создание
- MS предлагает ряд шаблонов, в тч с готовой MVC-архитектурой кода, поддержкой web-фреймворков (react, angular, etc)
- дополнительно при создании сборки (project) можно настроить https, схему авторизации и контейнеры
- шаблон empty создаёт hello world приложение со следующим минимально необходимым набором файлов:
	- `Connected Services`: подключенные сервисы из Azure
	- `Dependencies`: все добавленные в проект пакеты и библиотеки, иначе говоря зависимости
	- `Properties`: узел, который содержит некоторые настройки проекта. В частности, в файле launchSettings.json описаны настройки запуска проекта, например, адреса, по которым будет запускаться приложение.
	- `appsettings.json`: файл конфигурации проекта в формате json
	- `Program.cs`: главный файл приложения, с которого и начинается его выполнение. Код этого файла настривает и запускает веб-хост, в рамках которого разворачивается приложение
	- `Startup.cs`: файл, который определяет класс Startup и который содержит логику обработки входящих запросов

## .Net - Общие вопросы:
Приложение .net состоит из множества классов, объединённых в пространства имён. Пространства имён также имеют имена, причём одноимённые классы с разной внутренней реализацией могут находиться в разных пространствах имён. Таким образом у каждого класса есть  полное квалифицированное имя (FQN), состоящее из пространства (подпространства) имён и собственного имени.
```cs
	System.Console.WriteLine("Hello World!"); // полное квалифицированное имя
```
Пространства имён объединяются в сборки (Assembly (DLL или EXE)), которые можно считать физическими единицами на диске машины. ТО физически приложения состоят именно из сборок
Типы данных, наследование от Object всего, кроме ValueTypes, наследники которого являются структурами

- Пространство имён организует классы в общие блоки. Похоже, что пространство имён создаёт отдельную сборку или исполняемую программу. Пространства имён можно вкладывать друг в друга.
- Файл csproj определяет конфигурацию проекта (выходной тип, версия фреймворка и тд)
- код на cs состоит из инструкций, блоков кода в {} и методов, точкой входа является метод Main
- литералы - это все числа, символы, строки, null, undefined, true/false, эскейп-последовательности


# Общие заметки, которые будут удалены после получения опыта
## Программы верхнего уровня:
	- могут быть только в одном экземпляре
	- операторы using должны располагаться в начале файла

## Структура программы (на примере точки входа)
```cs
/**
* Импортируем пространство имен System (его частью является Console).
* Этим мы говорим, что все классы, которые не определены в нашем пространстве имен, надо искать в System
*
*/
using System;
namespace HelloCS
{
		internal class Program
		{
				static void Main(string[] args) // Точка входа в приложение, аргументы, код возврата
				{
						Console.WriteLine("Hello, World!");
				}
		}
}
```
## Файл .csproj
- LangVersion позволяет указать конкретную версию компилятора, либо псевдоним (latest, preview и т.п.)


# C#10 и .NET6 - Современная кросс-платформенная разработка (М. Прайс)

### .NET
- .NET Framework, .NET Core - устарели
- .NET(v.6 и далее) - основная платформа
- ASP.NET.Core работает на платформе .NET и объединяет компоненты ASP.NET MVC и ASP.NET Web-API, SignalR и gRPC для разработки веб-приложений и сервисов

### C#
- компиляция C# происходит в три этапа:
	- Roslyn (компилятор, используемый инструментом командной строки dotnet) конвертирует C#-код в IntermediateLanguage-код и сохраняет его в сборку (exe/dll-файл)
	- CoreCLR (Common Language Runtime) динамически (JIT, just-in-time) загружает IL-код из сборки
	- IL-код собирается под инструкции определенного CPU, т.о. один и тот же IL-код можно распространять на разные платформы

## Гл.1 - Привет, C#! Здравствуй, .NET!
- C#10 может неявно импортировать пространства имён (это можно увидеть в /obj/Debug/netX.X/Program.GlobalUsing.g.cs)

## Гл.2 - Говорим на языке C#

### Блоки:
- пространство имен содержит такие типы, как классы, для их группировки;
- класс содежит члены объекта, включая методы;
- метод содержит операторы, реализующие действия, которые может выполнять объект

### Пространства имен
- Когда мы импортируем пространство имен (напр., System, частью которого является Console), мы говорим, что все классы, которые не определены в нашем пространстве имен, надо искать в System
- Если определенные пространства имен нужны во всех модулях, то их можно импортировать в отдельном файле с помощью global using (это можно сделать в Program.cs, или создать отдельный файл. Хороший тон - GlobalUsings.cs или GlobalNamespaces.cs)
- Неявные глобальные импорты можно посмотреть в /obj/---/globalUsing.g.cs. Неявные импорты зависят от SDK
- Также управлять неявными импортами можно через .csproj-файл (напр. можно убрать System, и тогда отвалятся все Console.WriteLine)
```cs
	<ItemGroup>
		<Using Remove="System"/>
	</ItemGroup>
	<ImplicitUsings>enable</ImplicitUsings>
```

### Типы, классы, методы
- по факту в C# всё относится к какому-либо типу
- сам по себе C# не определяет типы, такие кл.слова как int или string являются псевдонимами для типов, опеределяемых платформой
- каждый тип может принадлежать к одной из категорий:
	- класс (напр. string)
	- структура (напр., int)
	- перечисление
	- интерфейс
	- делегат